# 레거시

**TxTypeLegacyTransaction**은 이전에 카이아에 존재했던 트랜잭션의 유형을 나타냅니다.

이러한 유형의 트랜잭션은 계정 생성, 토큰 전송, 스마트 컨트랙트 배포, 스마트 컨트랙트 실행, 또는 앞서 언급한 여러 가지를 혼합하여 수행할 수 있습니다.

<CH.Spotlight>
  <CH.Code>
    ```js txTypeLegacyTransaction.js
    import { createWalletClient, http, kairos, privateKeyToAccount } from "@kaiachain/viem-ext";

    const legacyWallet = createWalletClient({
      chain: kairos,
      transport: http(),
      account: privateKeyToAccount(
        "0x28d06bfebe5447d798ec7d1f208a045a15a1d6872b2a3cbb74cc896817bbb90d"
      ),
    });
    (async () => {
      // legacy tx
      const legacyRequest = await legacyWallet.prepareTransactionRequest({
        to: "0x70997970c51812dc3a010c7d01b50e0d17dc79c8",
        value: 0,
      });

      console.log("populated legacy request", legacyRequest);

      const sentLegacyTx = await legacyWallet.sendTransaction(legacyRequest);
      console.log("value transfer legacy tx", sentLegacyTx);
    })();

    ```

    ---

    ```zsh output
    ❯ node txTypeLegacyTransaction.js
    populated legacy request {
      to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',
      value: 0,
      from: '0x7642e9D6F533DCd6F4c20EF7bA83141b6b210d83',
      nonce: 18,
      chainId: 1001,
      type: 'eip1559',
      maxPriorityFeePerGas: 0n,
      maxFeePerGas: 30000000000n,
      gas: 21000n
    }
    value transfer legacy tx 0x8da12ab374d592715df3bbf6cc96f11a836175daf0dec7f26295d172d6206056

    ```
  </CH.Code>

  ---

  웹3에서 카이아 기능을 추가하기 위해 **@카이아체인/viem-ext** 패키지를 가져옵니다.

  ```js txTypeLegacyTransaction.js focus=1
  ```

  ---

  카이로스 체인\*\*, **HTTP 전송**, 계정으로 변환된 **발신자의 개인 키**로 구성된 **createWalletClient**를 사용하여 지갑 클라이언트를 설정합니다.

  ```js txTypeLegacyTransaction.js focus=3:9
  ```

  ---

  수신자 주소와 전송할 **값**(이 예에서는 0)을 지정하여 **prepareTransactionRequest**를 사용하여 **레거시 값 전송**을 위한 트랜잭션 요청을 생성합니다.

  <CH.Code>
    ```js txTypeLegacyTransaction.js focus=12:17
    ```

    ---

    ```zsh output
    populated legacy request {
      to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',
      value: 0,
      from: '0x7642e9D6F533DCd6F4c20EF7bA83141b6b210d83',
      nonce: 18,
      chainId: 1001,
      type: 'eip1559',
      maxPriorityFeePerGas: 0n,
      maxFeePerGas: 30000000000n,
      gas: 21000n
    }
    ```
  </CH.Code>

  ---

  지갑 클라이언트의 **sendTransaction** 메서드를 사용해 레거시 트랜잭션에 서명하고 카이아 블록체인으로 전송한 후 트랜잭션 해시를 기록합니다.

  <CH.Code>
    ```js txTypeLegacyTransaction.js focus=19:20
    ```

    ---

    ```zsh output
    ❯ node txTypeLegacyTransaction.js
    value transfer legacy tx 0x8da12ab374d592715df3bbf6cc96f11a836175daf0dec7f26295d172d6206056
    ```
  </CH.Code>
</CH.Spotlight>
