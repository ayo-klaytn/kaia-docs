# KaiaでミニDAppを作る

ミニDAppsは、LINEメッセンジャーの中にぴったり収まる、ブロックチェーンを活用した小さなアプリだ。 すでに使い慣れたチャットアプリから離れることなく、Web3の機能を簡単に利用できる。

## ミニDAppsとは何か？

ミニDAppsは、カイアブロックチェーン上に構築されたシンプルなツールやゲームだと考えてください。 日本、台湾、タイ、インドネシアを中心に月間2億人以上のユーザーを持つ人気メッセージングアプリ「LINE」内で稼働している。 開発者たちは、安全な支払い、報酬、トークン取引といった便利なブロックチェーン機能を日常のチャットに直接追加するために、こうしたアプリを作っている。

ユーザーにとっては簡単なことだ。 余計なアプリをダウンロードしたり、トリッキーなブロックチェーンについて学んだりする必要はない。 LINEを開き、Dapp Portal（組み込みのディスカバリーハブ）を通じてMini DAppを見つけ、使い始めるだけだ。 例えば、ロイヤルティポイントの獲得、トークンの交換、NFTの購入、あるいはクイックゲームなどがある。 すべてが1つの場所で起こる。

カイアは舞台裏ですべてを動かしている。 高速で低コストのブロックチェーン（KlaytnとFinschiaを統合して誕生）で、取引の記録やスマート・コントラクトの実行など、安全な部分を処理する。 カイアのウォレットなどのツールはLINEと密接に連携しており、デジタル資産の管理は自然な感覚で行える。 さらに、料金委譲のような機能により、利用者はガス料金の支払いを省くことができる。

本当の強みは、ミニDAppsが大量利用の扉を開くことだ。 Web3と信頼できるアプリを融合させることで、他の方法ではブロックチェーンを探求しないかもしれない人々にアプローチする。 企業は報酬システムを構築することができる。 開発者はインタラクティブな体験を作ることができる。 分散型テクノロジーを実用化し、グローバルにつながりながら、さまざまな地域に合わせたローカルなものにすることだ。

## ミニDApp構築のための主要SDK

Mini dAppを構築するには、いくつかの主要なSDKを使用します。 ブロックチェーンの基礎、ユーザー発見、LINEとの統合など、それぞれが異なる部分を扱う。 以下は、その他の詳細へのリンクとともに、簡潔な概要である。

### カイアSDK（コアブロックチェーンツール）

このSDKはカイアネットワークに接続するための基本を提供します。 スマートコントラクトの記述、トランザクションの送信、ウォレットの管理などのためのライブラリ群だ。

何に使うか：主にバックエンドで使用します。 例えば、あなたのMini dAppがトークンの鋳造や支払いを処理するためにコントラクトをデプロイする必要がある場合、通常このSDKに頼ることになります。 Ethers.jsやWeb3.jsのようなおなじみのツールをベースに、JavaScript用のethers-extのようなエクストラを加えたものだ。

主な機能には、トランザクションの送信、契約データの読み取り、スケーラブルなアプリの構築などがある。 ミニDAppでは、トークンの鋳造やNFTトレードのようなものを動かすことが多い。

詳細については、弊社ドキュメントの[Kaia SDK reference](../references/sdk/sdk.md)をご確認ください。 契約書を作成するのであれば、まずはそこから始めてほしい。

### Dapp Portal SDK（ディスカバリーハブへの接続）

Dapp Portalは、LINEがMini dAppsを見つけ、宣伝するためのスポットです。 このJavaScript SDKはあなたのアプリとリンクし、ウォレットのログインやトランザクションのようなWeb3のアクションを処理します。

何のため？カイア・ウォレット（LINEと連動）に接続し、トークンの鋳造、残高の確認、リワードやマーケットプレイスへのアクセスを可能にします。 ユーザーとブロックチェーンとのやりとりの橋渡し役と考えてほしい。

HTMLやスクリプトなど、フロントエンドのコードに追加します。 例えば、UnityやCocosのチュートリアルでは、ウォレット接続やトークン機能に使われる。 主なメソッドには、SDKの初期化、アカウントのリクエスト、トランザクションの送信などがある。

APIの詳細と設定については、[Dapp Portal docs](https://docs.dappportal.io/)を参照してください。 セキュリティのため、開発中は `localhost:3000` でのテストを推奨する。

### LIFF SDK (LINE Messengerへの組み込み)

LIFFとはLINE Front-end Frameworkの略。 これは、メッセンジャー内でスムーズに動作するウェブアプリを構築するためのLINEのツールだ。

何に使うか？LINEのアカウントでログインしたり、LINEのブラウザでアプリを表示したりといったフロントエンド側の処理を行います。 オンボーディングを簡素化し、余分なパスワードは必要ない。 LINE Developers ConsoleでLIFFアプリを設定し、サイズ（フルスクリーンまたはコンパクト）を選択し、権限を追加します。

ワークフローでは、多くの場合、ここからインターフェイスを構築し、他のSDKを重ねていく。 例えば、チュートリアルでは、Unity WebGLビルドのためにLIFFを含むようにindex.htmlを修正しています。

詳しい情報は[LINEのLIFFドキュメント](https://developers.line.biz/en/docs/liff/overview/)にある。 外付けだが、ミニdAppには不可欠だ。

## これらのSDKの組み合わせ

ミニdAppの構築は、流れを見れば複雑ではない。 まずはLIFFでLINEアプリのセットアップを行い、ログインと基本的な表示を行う。 その後、スマートコントラクトのデプロイなど、バックエンドのブロックチェーン作業にはKaia SDKを使用する。 最後に、Dapp Portal SDKを追加してウォレットを接続し、トークンの鋳造や報酬のような機能を有効にします。

![](/img/minidapps/sdk-overview.png)

簡単な例を挙げよう：プレイヤーがトークンを獲得するゲーム。 LINEのゲーム画面にはLIFFを使うだろう。 Dapp Portal SDKはウォレットを接続し、報酬を分配する。 カイアSDKはカイア上でトークンコントラクトを展開する。
この設定により、安全性と使いやすさが保たれる。 Unity](https://docs.kaia.io/minidapps/unity/quick-start/)、[Cocos Creator](https://docs.kaia.io/minidapps/cocos-creator/quick-start/)、[Survey Mini dApp](https://docs.kaia.io/minidapps/survey-minidapp/intro/)のチュートリアルをご参照ください。

## ミニDApp開発入門

ミニDAppの開発を始めるには、以下の手順に従ってください：

1. ミニDApp SDKへのアクセスを申請し[こちら](https://tally.so/r/w4Y5BB)、承認を待ちます。
2. カイア蛇口](https://faucet.kaia.io/)からテストトークンを入手する。
3. Unity】(./unity/quick-start.md)、【Cocos Creator】(./cocos-creator/quick-start.md)、【Survey Mini dApp】(./survey-minidapp/intro.md)のチュートリアルを参考に、開発環境を整えてください。

ミニDApp SDKの詳細については、[Dapp Portal SDK documentation](https://developers.dappportal.io/sdk)をご覧ください。実装と統合に関する包括的なガイダンスが提供されています。

カイアでのビルドが初めての方は、[カイアを始めよう](../build/get-started/get-started.mdx)のページで基礎知識をご確認ください。

ご質問やコミュニティサポートについては、[カイア開発者フォーラム](https://devforum.kaia.io/)をご参照ください。